{% extends 'base.html.twig' %}

{% block title %} Kartenansicht | {{ parent() }} {% endblock %}

{% block body %}

    <div class="container mt-5">
        <h2>Orte und geografische Einordnung</h2>

        <div class="row">
            <div class="col-lg-6">
                <p>
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
            </div>
            <div class="col-lg-6">
                <p>
                    Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua.
                </p>
            </div>
        </div>

        <div class="row">
            <div id="map" class="mt-3">
            </div>
        </div>
    </div>

    {# Coordinates set to Hamburg 53.550556, 9.993333], 5 #}
    <script>
        {# Leaflet does not allow to add one const to more than one layerGroup
        (see more here: https://stackoverflow.com/questions/66391786/add-marker-to-multiple-layer-groups.
        As workaround, more than one instance of a city is created when necessary #}

        const nuernberg = L.marker([49.455556, 11.078611]).bindPopup('<strong>Nürnberg</strong><br/>');
        const hamburg = L.marker([53.550556, 9.993333]).bindPopup('Das Frauenaußenlager Porta-Westfalica-Hausberge war erst im Februar 1945 eingerichtet worden. In Porta-Westfalica befanden sich zu diesem Zeitpunkt bereits zwei Männeraußenlager des KZ-Neuengamme, die alte Bergmannsstollen zur unterirdischen Produktionsstätten umbauen sollten. In einem dieser Stollen sollten die etwa 1.000 Frauen des neuen Frauenaußenlagers Radioröhren für dieFirma Philipps und ihre Tochterfirmen herstellen. Die Häftlinge waren vor allen als Jüdinnen verfolgteFrauen die aus den Niederlande und Ungarn nach Auschwitz deportiert worden waren. Ein Teil von ihnen hatte bereits in einem Außenlager des KZ Groß Rosen im heutigen Polen Radioröhren produzieren müssen, bis diese Produktionsstätte im Januar 1945 angesichts der sich nähernden sowjetischen Armee geräumt wurde.<br/> <a href="{{ path('app_imprint') }}#usage">Weiterlesen</a>');
        const usbekistan = L.marker([41.666667, 64.066667]).bindPopup('<strong>Usbekistan</strong><br/>genannt im Gespräch mit<br/><a href="{{ path('app_map') }}">Julia Camargo</a>');
        const ukraine = L.marker([49.8, 30.833333]).bindPopup('<strong>Ukraine</strong><br/>genannt in den Gesprächen mit<br/> <a href="{{ path('app_map') }}">Julia Camargo</a><br/> <a href="{{ path('app_map') }}">Igor Zunik</a>');
        const gailingen = L.marker([47.696944, 8.755]).bindPopup('<strong>Gailingen</strong><br/>genannt im Gespräch mit<br/><a href="{{ path('app_map') }}">Barbara Guggenheim</a>');
        const stuttgart = L.marker([48.775556, 9.182778]).bindPopup('<strong>Stuttgart</strong><br/>genannt im Gespräch mit<br/><a href="{{ path('app_map') }}">Barbara Guggenheim</a>');
        const schweiz = L.marker([46.8, 8.233333]).bindPopup('<strong>Schweiz</strong><br/>genannt im Gespräch mit<br/><a href="{{ path('app_map') }}">Barbara Guggenheim</a>');


        const camargo = L.layerGroup([nuernberg, hamburg, usbekistan, ukraine]);
        const guggenheim = L.layerGroup([gailingen, stuttgart, schweiz]);


        const mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>';
        const mbUrl = 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

        const streets = L.tileLayer(mbUrl, {
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1,
            attribution: mbAttr
        });

        const osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 11,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        });

        const map = L.map('map', {
            center: [53.550556, 9.993333],
            zoom: 5,
            layers: [osm,
                camargo,
                guggenheim,
            ]
        });

        const baseLayers = {
            'OpenStreetMap': osm,
        };

        const overlays = {
            'Julia Camargo': camargo,
            'Barbara Guggenheim': guggenheim,
        };

        const layerControl = L.control.layers(baseLayers, overlays).addTo(map);

    </script>

{% endblock %}